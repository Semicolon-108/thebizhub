import{a as P,f as R,b as S,_ as U}from"./entry.f2dc0412.js";import{C as j}from"./card-list.5f83ca52.js";import{j as q,a,af as C,b as M,M as I,N,O as $,R as w,u as i,U as O,I as z}from"./swiper-vue.6a103a73.js";const G={class:"container"},H={class:"page-title"},J={key:0,class:"category-desc"},K=q({__name:"index",async setup(Q){let n,c;const u=P().$axios,_=R(),B=a(),r=a(),d=a(),E=a(1),b=a(1e4),k=a(""),t=a(""),F=a(0),L=a(),s=a(""),p=a(""),v=a(""),{locale:V}=S(),g=a(),A=async()=>{const e=await u.post("get-reuses-list/Category"),o=e.data.info.filter(l=>!l.groupStatus);B.value=o,r.value=e.data.info},m=async()=>{d.value=[],await u.post(`get-articles?page=${E.value}&perPage=${b.value}&tagId=${k.value}&categoryId=${t.value}&search=${s.value}`).then(e=>{e.status===200&&(d.value=e.data.info,F.value=e.data.total)}).catch(e=>{e&&(L.value="Data empty")})},y=()=>{const e=_.query.is,o="Events ",l="Update";if(e===l)s.value=l,t.value="";else if(e===o)t.value="6514fbff51ce087ae07926dc",s.value="";else{s.value="";const h=r.value.find(f=>f.name===e),x=r.value.find(f=>f.laoName===e);h?(t.value=h._id,s.value=""):x?(t.value=x._id,s.value=""):(t.value="",s.value="")}},D=async()=>{const e=await u.post(`edit-reuse?_id=${t.value}&type=Category&lang=${g.value}`);p.value=e.data.info.name,v.value=e.data.info.detail};return[n,c]=C(()=>A()),await n,c(),y(),[n,c]=C(()=>m()),await n,c(),M(()=>[_.path,V.value],([e,o])=>{g.value=o,y(),m(),D()},{immediate:!0,deep:!0}),(e,o)=>(I(),N("section",null,[$("div",G,[$("h1",H,w(i(p)),1),i(v)?(I(),N("p",J,w(i(v)),1)):O("",!0),z(j,{info:i(d)},null,8,["info"])])]))}});const Y=U(K,[["__scopeId","data-v-6f3a2872"]]);export{Y as default};
