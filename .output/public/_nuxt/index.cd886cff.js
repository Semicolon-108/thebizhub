import{a as I,H as N,N as q,r as t,O as B,v as F,o as k,b as A,i as _,t as D,u as p,e as E,j as P}from"./entry.ec4254af.js";import{C as S}from"./card-list.3264f72d.js";import"./index.b222a88c.js";const V={class:"container"},b={class:"page-title"},j=I({__name:"index",async setup(H){let i,r;const l=N().$axios,c=q(),f=t(),u=t(),d=t(),v=t(1),g=t(10),m=t(""),o=t(""),y=t(0),h=t(),a=t(""),x=async()=>{const e=await l.post("get-reuses-list/Category"),s=e.data.info.filter(n=>!n.groupStatus);f.value=s,u.value=e.data.info},C=async()=>{await l.post(`get-articles?page=${v.value}&perPage=${g.value}&tagId=${m.value}&categoryId=${o.value}&search=${a.value}`).then(e=>{e.status===200&&(d.value=e.data.info,y.value=e.data.total)}).catch(e=>{e&&(h.value="Data empty")})},$=()=>{const e=c.query.is,s="Update";if(e===s)a.value=s,o.value="";else{a.value="";const n=u.value.find(w=>w.name===e);n?(o.value=n._id,a.value=""):(o.value="",a.value="")}};return[i,r]=B(()=>x()),await i,r(),F(c,e=>{e.query.is&&($(),C())},{immediate:!0,deep:!0}),(e,s)=>(k(),A("section",null,[_("div",V,[_("h1",b,D(p(c).query.is),1),E(S,{info:p(d)},null,8,["info"])])]))}});const U=P(j,[["__scopeId","data-v-4069a15e"]]);export{U as default};
