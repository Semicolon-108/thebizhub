{"version":3,"file":"_id_-4b54fcfc.js","sources":["../../../../pages/tag/[id].vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"container\">\r\n      <h1 class=\"tag-title\"><span>#</span> {{ tag }}</h1>\r\n      <div class=\"search-result\">\r\n        <CategoryCardList :info=\"info\" />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport CategoryCardList from \"../../components/category/card-list.vue\";\r\nconst axios = useNuxtApp().$axios;\r\nconst tag = ref<any>();\r\nconst info = ref<any>();\r\nconst route = useRoute();\r\nconst page = ref(1);\r\nconst perPage = ref(10);\r\nconst tagId = ref(\"\");\r\nconst categoryFilter = ref<any>(\"\");\r\nconst totals = ref<any>(0);\r\nconst msgError = ref<any>();\r\n\r\nconst fetch = async () => {\r\n  await axios\r\n    .post(\r\n      `get-articles?page=${page.value}&perPage=${perPage.value}&tagId=${tagId.value}&categoryId=${categoryFilter.value}`\r\n    )\r\n    .then((res) => {\r\n      if (res.status === 200) {\r\n        info.value = res.data.info;\r\n        totals.value = res.data.total;\r\n      }\r\n    })\r\n    .catch((e: any) => {\r\n      if (e) {\r\n        msgError.value = \"Data empty\";\r\n      }\r\n    });\r\n};\r\nconst tagInfo = async () => {\r\n  // edit-reuse\r\n  const res = await axios.post(`edit-reuse?_id=${tagId.value}&type=Tags`);\r\n  tag.value = res.data.info.name;\r\n};\r\nwatch(\r\n  route,\r\n  (value) => {\r\n    if (value.params.id) {\r\n      tagId.value = value.params.id.toString();\r\n      tagInfo();\r\n      fetch();\r\n    }\r\n  },\r\n  { immediate: true, deep: true }\r\n);\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tag-title {\r\n  font-size: var(--xxlg-font);\r\n  font-weight: 700;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.search-result {\r\n  width: 100%;\r\n  border-top: 5px solid var(--sub-color);\r\n  padding-top: 20px;\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAaM,UAAA,QAAQ,WAAa,EAAA;AAC3B,UAAM,MAAM;AACZ,UAAM,OAAO;AACb,UAAM,QAAQ;AACR,UAAA,OAAO,IAAI,CAAC;AACZ,UAAA,UAAU,IAAI,EAAE;AAChB,UAAA,QAAQ,IAAI,EAAE;AACd,UAAA,iBAAiB,IAAS,EAAE;AAC5B,UAAA,SAAS,IAAS,CAAC;AACzB,UAAM,WAAW;AAEjB,UAAM,QAAQ,YAAY;AACxB,YAAM,MACH;AAAA,QACC,qBAAqB,KAAK,KAAK,YAAY,QAAQ,KAAK,UAAU,MAAM,KAAK,eAAe,eAAe,KAAK;AAAA,MAAA,EAEjH,KAAK,CAAC,QAAQ;AACT,YAAA,IAAI,WAAW,KAAK;AACjB,eAAA,QAAQ,IAAI,KAAK;AACf,iBAAA,QAAQ,IAAI,KAAK;AAAA,QAC1B;AAAA,MAAA,CACD,EACA,MAAM,CAAC,MAAW;AACjB,YAAI,GAAG;AACL,mBAAS,QAAQ;AAAA,QACnB;AAAA,MAAA,CACD;AAAA,IAAA;AAEL,UAAM,UAAU,YAAY;AAE1B,YAAM,MAAM,MAAM,MAAM,KAAK,kBAAkB,MAAM,KAAK,YAAY;AAClE,UAAA,QAAQ,IAAI,KAAK,KAAK;AAAA,IAAA;AAE5B;AAAA,MACE;AAAA,MACA,CAAC,UAAU;AACL,YAAA,MAAM,OAAO,IAAI;AACnB,gBAAM,QAAQ,MAAM,OAAO,GAAG,SAAS;AAC/B;AACF;QACR;AAAA,MACF;AAAA,MACA,EAAE,WAAW,MAAM,MAAM,KAAK;AAAA,IAAA;;;;;;;;;;;;;;;;"}