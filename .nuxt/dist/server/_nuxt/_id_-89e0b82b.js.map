{"version":3,"file":"_id_-89e0b82b.js","sources":["../../../../pages/blog-detail/[id].vue"],"sourcesContent":["<template>\r\n  <div id=\"blog-detail\">\r\n    <section class=\"has-bg\">\r\n      <div class=\"container\">\r\n        <iframe v-if=\"videoLink\" :src=\"videoLink\" class=\"youtube\" title=\"YouTube video player\" frameborder=\"0\"\r\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n          allowfullscreen></iframe>\r\n        <img v-else :src=\"coverPage\" alt=\"\" v-if=\"coverPage\" />\r\n      </div>\r\n    </section>\r\n    <div class=\"container content\">\r\n      <h1 class=\"blog-title\">{{ title }}</h1>\r\n      <ul class=\"blog-info\">\r\n        <li class=\"tag\">\r\n          <p>\r\n            <span v-for=\"(c, ind) in category\" :key=\"ind\">{{ c.name }}</span>\r\n          </p>\r\n        </li>\r\n        <li class=\"post-date\">{{ createdAt }}</li>\r\n        <li class=\"social\">\r\n          <p>\r\n            <a :href=\"`https://www.facebook.com/sharer/sharer.php?u=${https}blog-detail/${route.params.id}`\"\r\n              onclick=\"javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;\"><i\r\n                class=\"fa-brands fa-facebook\"></i></a>\r\n            <a :href=\"`whatsapp://send?text=${https}blog-detail/${route.params.id}`\"\r\n              onclick=\"javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;\">\r\n              <i class=\"fa-brands fa-whatsapp\"></i></a>\r\n            <i class=\"fa-light fa-link\" @click=\"isCopy()\" v-if=\"copy\"></i>\r\n            <i class=\"fa-light fa-check checkStatus\" v-else></i>\r\n          </p>\r\n        </li>\r\n      </ul>\r\n      <!-- Blog detail -->\r\n      <div class=\"blog-detail\" v-html=\"detail\"></div>\r\n      <div v-if=\"attachments.length\">\r\n        <ul class=\"document-list\">\r\n          <li v-for=\"(i, index) in attachments\" :key=\"index\">\r\n              <button class=\"button main\" @click=\"clickedDownload(i)\">{{ $t(\"download_document\") }} {{index +1}}</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"tags\">\r\n        <strong>TAGS:</strong>\r\n        <a v-for=\"(t, indx) in tag\" :key=\"indx\" @click=\"router.push(`/tag/${t._id}`)\">{{ t.name }}</a>\r\n      </div>\r\n\r\n      <div class=\"follow-us\">\r\n        <h1>ສາມາດຕິດຕາມ THEBIZHUB</h1>\r\n        <p>ຜ່ານແອັບພິເຄຊັ້ນຕ່າງໆ ທີ່ທ່ານສະດວກ ຫຼື ໃຊ້ງານຢູ່ແລ້ວໄດ້ເລີຍ</p>\r\n        <ul>\r\n          <li>\r\n            <a href=\"https://www.facebook.com/profile.php?id=100091801856212\" target=\"_blank\">\r\n              <i class=\"fa-brands fa-facebook\"></i>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://www.tiktok.com/@thebizhublaos\" target=\"_blank\">\r\n              <i class=\"fa-brands fa-tiktok\"></i>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://www.youtube.com/@TheBIZHUB\" target=\"_blank\">\r\n              <i class=\"fa-brands fa-youtube\"></i>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"blog-footer\" v-if=\"related.length\">\r\n        <h3 class=\"section-title\">RELATED ARTICLES</h3>\r\n        <Releted :relate=\"related\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport Releted from \"./related.vue\";\r\nconst imageURL = useNuxtApp().$imageURL;\r\nconst axios = useNuxtApp().$axios;\r\nconst https = useNuxtApp().$https;\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst msgError = ref<any>();\r\nconst title = ref<any>();\r\nconst coverPage = ref<any>();\r\nconst videoLink = ref<any>(\"\");\r\nconst tag = ref<any>();\r\nconst category = ref<any>();\r\nconst detail = ref<any>();\r\nconst createdAt = ref<any>();\r\nconst attachments = ref<any>([])\r\nconst related = ref<any>([]);\r\nconst copy = ref<any>(true);\r\nconst authStatus = ref<any>(false)\r\nimport { useAuthStore } from '@/stores/store'\r\nconst tokenStore = useAuthStore()\r\n\r\nconst fetch = async () => {\r\n  const id = route.params.id;\r\n  if (!id) return;\r\n  await axios\r\n    .post(`articles-detail/${id}`)\r\n    .then((res) => {\r\n      if (res.status === 200) {\r\n        title.value = res.data.info.title;\r\n        coverPage.value = imageURL + res.data.info.coverPage;\r\n        tag.value = res.data.info.tag;\r\n        category.value = res.data.info.category;\r\n        detail.value = res.data.info.details;\r\n        createdAt.value = res.data.info.createdAt;\r\n        attachments.value = res.data.info.attachments;\r\n        related.value = res.data.isRelated;\r\n        if (res.data.info.videoLink) {\r\n          videoLink.value =\r\n            \"https://www.youtube.com/embed/\" + res.data.info.videoLink;\r\n        }\r\n      }\r\n    })\r\n    .catch((e: any) => {\r\n      if (e) {\r\n        msgError.value = \"Data empty\";\r\n      }\r\n    });\r\n};\r\nawait fetch();\r\nconst isCopy = () => {\r\n  navigator.clipboard.writeText(https + \"blog-detail/\" + route.params.id);\r\n  copy.value = false;\r\n};\r\nuseHead({\r\n  title: title,\r\n  meta: [\r\n    { hid: \"og:title\", property: \"og:title\", content: title },\r\n    { hid: \"og:description\", property: \"og:description\", content: detail },\r\n    { hid: \"og:type\", property: \"og:type\", content: \"website\" },\r\n    {\r\n      hid: \"og:url\",\r\n      property: \"og:url\",\r\n      content: https + \"blog-detail/\" + route.params.id,\r\n    },\r\n    { hid: \"og:image\", property: \"og:image\", content: coverPage },\r\n  ],\r\n});\r\n\r\nwatch(() => tokenStore.token, (token) => {\r\n  if (token) {\r\n    authStatus.value = true\r\n  }\r\n}, { immediate: true, deep: true });\r\n\r\nconst clickedDownload = (url: any) => {\r\n  if (!authStatus.value) {\r\n    if (confirm(\"Please Login!\")) {\r\n      router.push('/auth/login')\r\n    }\r\n    return\r\n  }\r\n  const link = document.createElement('a');\r\n  link.href = url\r\n  link.setAttribute('download', 'file.pdf');\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.document-list{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: .5rem;\r\n  button{\r\n    padding-left: 1rem !important;\r\n    padding-right: 1rem !important;\r\n  }\r\n}\r\n\r\n.has-bg {\r\n  background-color: var(--light-grey-color);\r\n\r\n  .youtube {\r\n    width: 100%;\r\n    aspect-ratio: 1.9;\r\n    object-fit: cover;\r\n    display: block;\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n    aspect-ratio: 1.9;\r\n    object-fit: cover;\r\n    display: block;\r\n  }\r\n}\r\n\r\n.tags {\r\n  display: flex;\r\n  margin: 20px 0;\r\n\r\n  strong {\r\n    margin-right: 10px;\r\n  }\r\n\r\n  a {\r\n    cursor: pointer;\r\n    display: flex;\r\n    white-space: nowrap;\r\n    transition: all ease-in-out 0.3s;\r\n\r\n    &:hover {\r\n      color: var(--sub-color);\r\n      text-decoration: underline !important;\r\n    }\r\n\r\n    &::before {\r\n      content: \"#\";\r\n      margin-left: 05px;\r\n      display: block;\r\n    }\r\n  }\r\n}\r\n\r\n.follow-us {\r\n  padding: 40px 0;\r\n  text-align: center;\r\n\r\n  h1 {\r\n    font-weight: 700;\r\n    font-size: var(--lg-font);\r\n    line-height: 2;\r\n  }\r\n\r\n  p {\r\n    font-size: var(--lg-font);\r\n  }\r\n\r\n  ul {\r\n    margin-top: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 20px;\r\n\r\n    li i {\r\n      font-size: var(--xxlg-font);\r\n    }\r\n  }\r\n}\r\n\r\n.container {\r\n  max-width: 760px;\r\n  margin: 0 auto;\r\n\r\n  @include fullhd {\r\n    max-width: 1140px;\r\n  }\r\n\r\n  &.content {\r\n    padding: 2.5rem 0;\r\n  }\r\n}\r\n\r\n.blog-title {\r\n  font-size: var(--xlg-font);\r\n  font-weight: 700;\r\n}\r\n\r\n.blog-info {\r\n  padding: 10px 0 30px;\r\n  font-size: var(--md-font);\r\n\r\n  li {\r\n    line-height: 1.5;\r\n\r\n    &:not(:last-child) {\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    &.social {\r\n      p {\r\n        display: flex;\r\n        gap: 10px;\r\n\r\n        cursor: pointer;\r\n\r\n        i {\r\n          font-size: var(--xlg-font);\r\n\r\n          &:nth-child(1) {\r\n            color: #4267b2;\r\n          }\r\n\r\n          &:nth-child(2) {\r\n            color: #25d366;\r\n          }\r\n\r\n          &:nth-child(3) {\r\n            color: --var(grey-color);\r\n          }\r\n        }\r\n\r\n        i.checkStatus {\r\n          background-color: rgb(255, 255, 255);\r\n          border-style: ridge;\r\n          border: 2px solid rgba(26, 17, 196, 0.6);\r\n          font-size: auto;\r\n          padding: 1px 4px;\r\n        }\r\n      }\r\n    }\r\n\r\n    &.tag {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      p {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: var(--sm-font);\r\n\r\n        span {\r\n          display: flex;\r\n          align-items: center;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n\r\n          &:not(:last-child) {\r\n            &::after {\r\n              content: \"\";\r\n              display: block;\r\n              border-right: 1px solid var(--grey-color);\r\n              height: 10px;\r\n              margin: 0 10px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    &.post-date {\r\n      font-weight: 500;\r\n      font-size: var(--sm-font);\r\n      color: var(--dark-grey-color);\r\n    }\r\n  }\r\n}\r\n\r\n// blog-info\r\n.blog-detail {\r\n  font-size: var(--md-font);\r\n  margin-bottom: 40px;\r\n}\r\n</style>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA8EM,UAAA,WAAW,WAAa,EAAA;AACxB,UAAA,QAAQ,WAAa,EAAA;AACrB,UAAA,QAAQ,WAAa,EAAA;AAC3B,UAAM,QAAQ;AACC,cAAU;AACzB,UAAM,WAAW;AACjB,UAAM,QAAQ;AACd,UAAM,YAAY;AACZ,UAAA,YAAY,IAAS,EAAE;AAC7B,UAAM,MAAM;AACZ,UAAM,WAAW;AACjB,UAAM,SAAS;AACf,UAAM,YAAY;AACZ,UAAA,cAAc,IAAS,CAAA,CAAE;AACzB,UAAA,UAAU,IAAS,CAAA,CAAE;AACrB,UAAA,OAAO,IAAS,IAAI;AACpB,UAAA,aAAa,IAAS,KAAK;AAEjC,UAAM,aAAa;AAEnB,UAAM,QAAQ,YAAY;AAClB,YAAA,KAAK,MAAM,OAAO;AACxB,UAAI,CAAC;AAAI;AACH,YAAA,MACH,KAAK,mBAAmB,EAAE,EAAE,EAC5B,KAAK,CAAC,QAAQ;AACT,YAAA,IAAI,WAAW,KAAK;AAChB,gBAAA,QAAQ,IAAI,KAAK,KAAK;AAC5B,oBAAU,QAAQ,WAAW,IAAI,KAAK,KAAK;AACvC,cAAA,QAAQ,IAAI,KAAK,KAAK;AACjB,mBAAA,QAAQ,IAAI,KAAK,KAAK;AACxB,iBAAA,QAAQ,IAAI,KAAK,KAAK;AACnB,oBAAA,QAAQ,IAAI,KAAK,KAAK;AACpB,sBAAA,QAAQ,IAAI,KAAK,KAAK;AAC1B,kBAAA,QAAQ,IAAI,KAAK;AACrB,cAAA,IAAI,KAAK,KAAK,WAAW;AAC3B,sBAAU,QACR,mCAAmC,IAAI,KAAK,KAAK;AAAA,UACrD;AAAA,QACF;AAAA,MAAA,CACD,EACA,MAAM,CAAC,MAAW;AACjB,YAAI,GAAG;AACL,mBAAS,QAAQ;AAAA,QACnB;AAAA,MAAA,CACD;AAAA,IAAA;AAEL,KAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,MAAA,CAAM;AAKJ,YAAA;AAAA,MACN;AAAA,MACA,MAAM;AAAA,QACJ,EAAE,KAAK,YAAY,UAAU,YAAY,SAAS,MAAM;AAAA,QACxD,EAAE,KAAK,kBAAkB,UAAU,kBAAkB,SAAS,OAAO;AAAA,QACrE,EAAE,KAAK,WAAW,UAAU,WAAW,SAAS,UAAU;AAAA,QAC1D;AAAA,UACE,KAAK;AAAA,UACL,UAAU;AAAA,UACV,SAAS,QAAQ,iBAAiB,MAAM,OAAO;AAAA,QACjD;AAAA,QACA,EAAE,KAAK,YAAY,UAAU,YAAY,SAAS,UAAU;AAAA,MAC9D;AAAA,IAAA,CACD;AAED,UAAM,MAAM,WAAW,OAAO,CAAC,UAAU;AACvC,UAAI,OAAO;AACT,mBAAW,QAAQ;AAAA,MACrB;AAAA,OACC,EAAE,WAAW,MAAM,MAAM,KAAM,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}