{"version":3,"file":"otp-6fa54042.js","sources":["../../../../pages/auth/otp.vue"],"sourcesContent":["<template>\r\n    <section class=\"section\">\r\n        <div class=\"bg is-hidden-mobile\"></div>\r\n        <div class=\"container\">\r\n            <h1 class=\"page-title\">Verify OTP</h1>\r\n\r\n            <div class=\"grids is-2-desktop is-1-mobile margin-top-30 gap-30\">\r\n                <div class=\"left\">\r\n                    <form action=\"\" class=\"grids is-1-desktop is-1-mobile gap-20\">\r\n                        <div class=\"field\">\r\n                            <label for=\"\">Enter OTP code from Inbox <span>*</span></label>\r\n                            <div class=\"control has-addon\">\r\n                                <input type=\"text\" class=\"input\" v-model=\"isVerifyCode\" placeholder=\"1234\" />\r\n                                <a @click=\"resendCode\">Resend Code</a>\r\n                            </div> <small style=\"color:red\">Your OTP will expire in 15 minutes from now</small>\r\n                        </div>\r\n                    </form>\r\n                    <small v-if=\"succesMsg\" style=\"color:green\">{{ succesMsg }}</small>\r\n                    <small v-if=\"erMsg\" style=\"color:red;\">{{ erMsg }}</small>\r\n                    <button class=\"button main margin-top-20 margin-bottom-10\" @click=\"verifyCode()\">\r\n                        Verify\r\n                    </button>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <InfoBox />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport InfoBox from \"~/components/auth/info-box.vue\";\r\nconst axios = useNuxtApp().$axios\r\nconst succesMsg = ref<any>()\r\nconst erMsg = ref<any>()\r\nconst isVerifyCode = ref<any>()\r\nconst useCookies = useCookie('verifyToken')\r\nconst router = useRouter();\r\nconst verifyCode = async () => {\r\n    if (!useCookies.value) return erMsg.value = \"Not found your verifyTOken yet\"\r\n    if (!isVerifyCode.value) return erMsg.value = \"Please fill your verifyCode\"\r\n    await axios.post(`verify-code`, {\r\n        verifyCode: isVerifyCode.value,\r\n        verifyToken: useCookies.value\r\n    }).then((res: any) => {\r\n        if (res.status === 201) {\r\n            succesMsg.value = res.data.message\r\n            erMsg.value = \"\"\r\n            setTimeout(() => {\r\n                router.push('/auth/login')\r\n            }, 1500);\r\n        }\r\n    }).catch((e: any) => {\r\n        succesMsg.value = \"\"\r\n        if (e.response.status === 501) {\r\n            erMsg.value = \"Can not verify\"\r\n        } else {\r\n            erMsg.value = e.response.data.message\r\n        }\r\n\r\n    })\r\n}\r\n\r\nconst resendCode = async () => {\r\n    if (!useCookies.value) return erMsg.value = \"Not found your verifyTOken yet\"\r\n    await axios.post(`resend-verify-code`, {\r\n        verifyToken: useCookies.value\r\n    }).then((res: any) => {\r\n        if (res.status === 201) {\r\n            succesMsg.value = res.data.message\r\n            erMsg.value = \"\"\r\n        }\r\n    }).catch((e: any) => {\r\n        succesMsg.value = \"\"\r\n        if (e.response.status === 501) {\r\n            erMsg.value = \"Can not verify\"\r\n        } else if (e.response.status === 429) {\r\n            erMsg.value = \"Sorry, You have too many request, please try again after 10 minutes\"\r\n        } else {\r\n            erMsg.value = e.response.data.message\r\n        }\r\n    })\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nsection {\r\n    position: relative;\r\n}\r\n\r\nbutton {\r\n    width: 100%;\r\n}\r\n\r\n.bg {\r\n    content: \"\";\r\n    width: 30%;\r\n    display: block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    background-color: var(--sub-color);\r\n}\r\n\r\n.right {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n\r\n    .box {\r\n        position: relative;\r\n        display: inline-block;\r\n        background-color: var(--main-color);\r\n        color: #fff;\r\n        border-radius: 10px;\r\n        padding: 30px 40px;\r\n\r\n        &::before {\r\n            content: \"\";\r\n            display: block;\r\n            position: absolute;\r\n            left: -15px;\r\n            top: -15px;\r\n            height: 30px;\r\n            width: 30px;\r\n            background-color: var(--sub-color);\r\n            border-radius: 5px;\r\n        }\r\n\r\n        .box-title {\r\n            font-size: var(--xlg-font);\r\n            font-weight: 700;\r\n            text-transform: uppercase;\r\n        }\r\n\r\n        ul {\r\n            li {\r\n                display: flex;\r\n                margin-bottom: 10px;\r\n\r\n                span {\r\n                    min-width: 20px;\r\n                    max-width: 20px;\r\n                    color: var(--sub-color);\r\n                }\r\n\r\n                p {\r\n                    line-height: 1.5;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //box\r\n\r\n    .social-icons {\r\n        display: flex;\r\n        gap: 20px;\r\n\r\n        a {\r\n            cursor: pointer;\r\n\r\n            i {\r\n                color: #fff;\r\n                font-size: var(--xlg-font);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.note {\r\n    a {\r\n        color: var(--sub-color);\r\n        cursor: pointer;\r\n    }\r\n}\r\n</style>\r\n  "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCc,eAAa,EAAA;AAC3B,UAAM,YAAY;AAClB,UAAM,QAAQ;AACd,UAAM,eAAe;AACF,cAAU,aAAa;AAC3B,cAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;"}