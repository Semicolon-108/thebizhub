{"version":3,"file":"index-faf18396.js","sources":["../../../../pages/search/index.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"container\">\r\n      <div class=\"page-header\">\r\n        <p>Search keywords:</p>\r\n        <h1 class=\"page-title\">{{ search }}</h1>\r\n      </div>\r\n\r\n      <div class=\"search-result\">\r\n        <CategoryCardList :info=\"info\" />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport CategoryCardList from \"../../components/category/card-list.vue\";\r\nconst axios = useNuxtApp().$axios;\r\nconst info = ref<any>();\r\nconst route = useRoute()\r\nconst page = ref(1);\r\nconst perPage = ref(10);\r\nconst tagId = ref(\"\");\r\nconst categoryFilter = ref<any>(\"\");\r\nconst totals = ref<any>(0);\r\nconst msgError = ref<any>();\r\nconst search = ref<any>(\"\")\r\nconst fetch = async () => {\r\n  await axios.post(\r\n    `get-articles?page=${page.value}&perPage=${perPage.value}&tagId=${tagId.value}&categoryId=${categoryFilter.value}&title=${search.value}`\r\n  ).then((res) => {\r\n    if (res.status === 200) {\r\n      info.value = res.data.info;\r\n      totals.value = res.data.total;\r\n    }\r\n  }).catch((e: any) => {\r\n    if (e) {\r\n      msgError.value = \"Data empty\";\r\n    }\r\n  })\r\n}\r\nwatch(route, (value) => {\r\n  if (value.query.search) {\r\n    search.value = value.query.search\r\n    fetch()\r\n  }\r\n}, { immediate: true, deep: true })\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n\r\n  p {\r\n    font-size: var(--md-font);\r\n    margin-bottom: 5px;\r\n  }\r\n}\r\n\r\n.search-result {\r\n  width: 100%;\r\n  border-top: 5px solid var(--sub-color);\r\n  padding-top: 20px;\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAiBM,UAAA,QAAQ,WAAa,EAAA;AAC3B,UAAM,OAAO;AACb,UAAM,QAAQ;AACR,UAAA,OAAO,IAAI,CAAC;AACZ,UAAA,UAAU,IAAI,EAAE;AAChB,UAAA,QAAQ,IAAI,EAAE;AACd,UAAA,iBAAiB,IAAS,EAAE;AAC5B,UAAA,SAAS,IAAS,CAAC;AACzB,UAAM,WAAW;AACX,UAAA,SAAS,IAAS,EAAE;AAC1B,UAAM,QAAQ,YAAY;AACxB,YAAM,MAAM;AAAA,QACV,qBAAqB,KAAK,KAAK,YAAY,QAAQ,KAAK,UAAU,MAAM,KAAK,eAAe,eAAe,KAAK,UAAU,OAAO,KAAK;AAAA,MAAA,EACtI,KAAK,CAAC,QAAQ;AACV,YAAA,IAAI,WAAW,KAAK;AACjB,eAAA,QAAQ,IAAI,KAAK;AACf,iBAAA,QAAQ,IAAI,KAAK;AAAA,QAC1B;AAAA,MAAA,CACD,EAAE,MAAM,CAAC,MAAW;AACnB,YAAI,GAAG;AACL,mBAAS,QAAQ;AAAA,QACnB;AAAA,MAAA,CACD;AAAA,IAAA;AAEG,UAAA,OAAO,CAAC,UAAU;AAClB,UAAA,MAAM,MAAM,QAAQ;AACf,eAAA,QAAQ,MAAM,MAAM;AACrB;MACR;AAAA,OACC,EAAE,WAAW,MAAM,MAAM,KAAM,CAAA;;;;;;;;;;;;;;;;"}